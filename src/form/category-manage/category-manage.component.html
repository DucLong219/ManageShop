<div>
    <button class="btn btn-outline-danger" (click)="initAddCate()">Thêm category</button>
</div>
<menu-category [menuItems]="listCategories"></menu-category>
<mat-paginator *ngIf="listCategories.length > 0" #paginator aria-label="Select page" [length]="pageLength"
    [pageIndex]="pageIndex" [pageSize]="pageSize" [pageSizeOptions]="numberShowPages" [showFirstLastButtons]="true"
    (page)="onPaging($event)">
</mat-paginator>

<div class="modal fade" id="modalAddCate" data-backdrop="static" data-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdrop" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content modalAddCt">
            <div class="modal-header">
                <h5 class="modal-title">Tạo mới danh mục</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="form-group" [formGroup]="createFormCate">
                    <div class="row form-group mb-2">
                        <label class="col-md-2 col-xl-2 col-lg-4 col-form-label" for="name">Tên danh mục: </label>
                        <div class="col-md-10 col-xl-10 col-lg-8 ">
                            <input class="form-control" type="text" [ngClass]="{ 'is-invalid': f.name.touched && f.name.errors }" placeholder="Nhập tên danh mục ..." id="name"
                                formControlName="name">
                            <div *ngIf="f.name.touched && f.name.errors" class="invalid-feedback text-left py-2">
                                <div *ngIf="f.name.errors.required">Tên danh mục không được để trống !</div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group mb-2">
                        <label class="col-md-2 col-xl-2 col-lg-4 col-form-label" for="alias">Tên địa chỉ file: </label>
                        <div class="col-md-10 col-xl-10 col-lg-8 ">
                            <input class="form-control" type="text" [ngClass]="{ 'is-invalid': f.alias.touched && f.alias.errors }" placeholder="Nhập alias ..." id="alias" formControlName="alias">
                            <div *ngIf="f.alias.touched && f.alias.errors" class="invalid-feedback text-left py-2">
                                <div *ngIf="f.alias.errors.required">Tên alias không được để trống !</div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group mb-2">
                        <label class="col-md-2 col-xl-2 col-lg-4 col-form-label" for="fileName">Tên file: </label>
                        <div class="col-md-10 col-xl-10 col-lg-8 ">
                            <input class="form-control" type="text" [ngClass]="{ 'is-invalid': f.fileName.touched && f.fileName.errors }" placeholder="Nhập file ..." id="fileName" formControlName="fileName">
                            <div *ngIf="f.fileName.touched && f.fileName.errors" class="invalid-feedback text-left py-2">
                                <div *ngIf="f.fileName.errors.required">Tên fileName không được để trống !</div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group mb-2">
                        <label class="col-md-2 col-xl-2 col-lg-4 col-form-label" for="description">Mô tả: </label>
                        <div class="col-md-10 col-xl-10 col-lg-8 ">
                            <textarea class="form-control" maxlength="200" name="description" formControlName="description" id="description" [ngClass]="{ 'is-invalid': f.description.touched && f.description.errors }" placeholder="Nhập mô tả ..." cols="30" rows="3"></textarea>
                            <div *ngIf="f.description.touched && f.description.errors" class="invalid-feedback text-left py-2">
                                <div *ngIf="f.description.errors.required">Mô tả không được để trống !</div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group mb-2">
                        <label class="col-md-2 col-xl-2 col-lg-4 col-form-label" for="level">Cấp danh mục: </label>
                        <div class="col-md-10 col-xl-10 col-lg-8 ">
                            <input class="form-control" (input)="checkLevel()" type="number" min="1" max="4" [ngClass]="{ 'is-invalid': f.level.touched && f.level.errors }" placeholder="Nhập level ..." id="level" formControlName="level">
                            <div *ngIf="f.level.touched && f.level.errors" class="invalid-feedback text-left py-2">
                                <div *ngIf="f.level.errors.required">Cấp danh mục không được để trống !</div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group mb-2">
                        <label class="col-md-2 col-xl-2 col-lg-4 col-form-label" for="orderNumber">Mã danh mục: </label>
                        <div class="col-md-10 col-xl-10 col-lg-8 ">
                          <input class="form-control" type="text" [ngClass]="{ 'is-invalid': f.orderNumber.touched && f.orderNumber.errors }" placeholder="Nhập mã danh mục ..." id="orderNumber" formControlName="orderNumber">
                          <div *ngIf="f.orderNumber.touched && f.orderNumber.errors" class="invalid-feedback text-left py-2">
                            <div *ngIf="f.orderNumber.errors.required">Mã danh mục không được để trống !</div>
                          </div>
                        </div>
                    </div>
                    <div class="row form-group mb-2" *ngIf="f.level.value && f.level.value > 1">
                        <label class="col-md-2 col-xl-2 col-lg-4 col-form-label" for="parentId">Nhập id cha: </label>
                        <div class="col-md-10 col-xl-10 col-lg-8 ">
                            <input class="form-control" type="text" [ngClass]="{ 'is-invalid': f.parentId.touched && f.parentId.errors }" (input)="checkParentId($event)" placeholder="Nhập id danh mục cha..." id="parentId" formControlName="parentId">
                            <div *ngIf="f.parentId.touched && f.parentId.errors" class="invalid-feedback text-left py-2">
                                <div *ngIf="f.parentId.errors.required">ID cha không được để trống !</div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-3 d-flex w-100 align-items-center justify-content-center">
                        <button class="btn btn-outline-danger" type="submit" (click)="addCate()">Xác nhận tạo</button>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>